<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Admin</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>

  <link href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.dataTables.min.css" rel="stylesheet">








  <link href="https://code.jquery.com/jquery-3.3.1.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"></script>



  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>



  <link href="https://code.jquery.com/jquery-3.5.1.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js" rel="stylesheet">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js" rel="stylesheet">

</head>

<body>
  <br>
  
  <button type="button" class="btn btn-primary" id="btnBack">Back</button>
  <br>

  <br>

  <table id="example" class="display nowrap" style="width:100%">
    <thead>
      <tr>
        <th>Image</th>
        <th>LSQ from Jamlong</th>
        <th>LSQ from 63604026</th>
        <th>LSQ from 63604028</th>
        <th>LSQ from MATLAB</th>
        <th>Google Drive Folder</th>
        <th>Google Drive Image</th>

      </tr>
    </thead>
    <tbody>



    </tbody>
  </table>


  <script type="text/javascript">
    var count2 =0;
    window.onload = function() {

      var no = 1;

      var t1 = $('#example').DataTable({
        dom: 'Bfrtip',
        buttons: [
        'copy', 'csv', 'excel', 'pdf', 'print'
        ]
      });



      const fruits = [""];




      var allText = "";

      readTextFile("LSQ6.txt");


      function readTextFile(file)
      {
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file, false);
        rawFile.onreadystatechange = function ()
        {
          if(rawFile.readyState === 4)
          {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
              allText = rawFile.responseText;


            }
          }
        }
        rawFile.send(null);
      }


      var lines = allText.split('\n');
      for (var i = 0; i < lines.length; i++) {
        console.log(i+1+" : "+lines[i]);
      }


      // var name = "";

      // for (var i = 0; i < 313; i++) {
      //   if (i.toString().length == 1) {
      //     name = "img_0000"+i.toString();
      //   }else if(i.toString().length == 2) {
      //     name = "img_000"+i.toString();
      //   }else if(i.toString().length == 3) {
      //     name = "img_00"+i.toString();
      //   }


      // }



      var ref = firebase.database().ref('measure');
      ref
      .on('child_added', function(snapshot) { 
        var user = snapshot.val();
        var key1 = snapshot.key;
        var count =0;

        





        if(user === undefined) {
          var lsq = '-----';
        }else{
          if(user.jamlong === undefined || user[63604026] === undefined || user[63604028] === undefined) {
            var lsq = '-----';
          }else{
            var lsq = user.jamlong.lsq;
            var lsq2 = user[63604026].lsq;
            var lsq3 = user[63604028].lsq;

          }
        }

        count = Object.keys(user).length;


        var ref3 = firebase.database().ref("ref/"+key1);
        ref3.once("value")
        .then(function(snapshot){

         var google_folder = snapshot.child("google_drive_image_folder").val();
         var google_image = snapshot.child("google_drive_image_no").val();


         // addData(key1, count,lsq, lines, google_folder, google_image);

         if (fruits.includes(key1)){

      }else{
         console.log(count2);
         t1.row.add( [
          key1,
          lsq.toFixed(6),
          lsq2.toFixed(6),
          lsq3.toFixed(6),
          lines[count2],
          google_folder,
          google_image

          ] ).draw( false );
           }
         count2 = count2+1;
         
         

       });
        

      });


      

      






    };







  </script>




  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
  <script>
   var firebaseConfig = {
    apiKey: "AIzaSyBA8_iJYJUTB81W6y41kBbAFUhETKXdn38",
    authDomain: "labeljpn.firebaseapp.com",
    databaseURL: "https://labeljpn.firebaseio.com",
    projectId: "labeljpn",
    storageBucket: "labeljpn.appspot.com",
    messagingSenderId: "478979409533",
    appId: "1:478979409533:web:a286086924054873c6d314",
    measurementId: "G-74RV1SGSWC"
  };
  firebase.initializeApp(firebaseConfig);
</script>

</body>

</html>
