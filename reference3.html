<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Admin</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>

  <link href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.dataTables.min.css" rel="stylesheet">








  <link href="https://code.jquery.com/jquery-3.3.1.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css"></script>



  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>



  <link href="https://code.jquery.com/jquery-3.5.1.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js" rel="stylesheet">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js" rel="stylesheet">

</head>

<body>
  <br>
  
  <button type="button" class="btn btn-primary" id="btnBack">Back</button>
  <br>

  <br>

  <table id="example" class="display nowrap" style="width:100%">
    <thead>
      <tr>
        <th>Image</th>
        <th>LSQ from expert</th>
        <th>LSQ from MATLAB</th>
        <th>Google Drive Folder</th>
        <th>Google Drive Image</th>

      </tr>
    </thead>
    <tbody>



    </tbody>
  </table>


  <script type="text/javascript">
    var count2 =0;
    window.onload = function() {

      var no = 1;

      var t1 = $('#example').DataTable({
        dom: 'Bfrtip',
        buttons: [
        'copy', 'csv', 'excel', 'pdf', 'print'
        ]
      });



      const fruits = ["img_00003", "img_00007", "img_00011", "img_00015", "img_00019", "img_00022", "img_00023", "img_00028", "img_00046", "img_00051", "img_00053", "img_00061", "img_00062", "img_00063", "img_00065", "img_00066", "img_00067", "img_00068", "img_00069", "img_00070", "img_00071", "img_00072", "img_00073", "img_00074", "img_00075", "img_00077", "img_00078", "img_00079", "img_00080", "img_00081", "img_00082", "img_00083", "img_00087", "img_00089", "img_00091", "img_00092", "img_00093", "img_00094", "img_00098", "img_00099", "img_00100", "img_00101", "img_00102", "img_00103", "img_00106", "img_00108", "img_00109", "img_00114", "img_00115", "img_00117", "img_00119", "img_00120", "img_00121", "img_00127", "img_00129", "img_00130", "img_00131", "img_00132", "img_00134", "img_00136", "img_00137", "img_00138", "img_00140", "img_000141", "img_00143", "img_00145", "img_00146", "img_00148", "img_00160", "img_00162", "img_00163", "img_00164", "img_00167", "img_00178", "img_00205", "img_00208", "img_00211", "img_00214", "img_00217", "img_00222", "img_00226", "img_00229", "img_00230", "img_00234", "img_00245", "img_00251", "img_00259", "img_00280", "img_00303"];




      var allText = "";

      readTextFile("LSQ.txt");


      function readTextFile(file)
      {
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file, false);
        rawFile.onreadystatechange = function ()
        {
          if(rawFile.readyState === 4)
          {
            if(rawFile.status === 200 || rawFile.status == 0)
            {
              allText = rawFile.responseText;


            }
          }
        }
        rawFile.send(null);
      }


      var lines = allText.split('\n');
      for (var i = 0; i < lines.length; i++) {
        console.log(i+1+" : "+lines[i]);
      }


      // var name = "";

      // for (var i = 0; i < 313; i++) {
      //   if (i.toString().length == 1) {
      //     name = "img_0000"+i.toString();
      //   }else if(i.toString().length == 2) {
      //     name = "img_000"+i.toString();
      //   }else if(i.toString().length == 3) {
      //     name = "img_00"+i.toString();
      //   }


      // }



      var ref = firebase.database().ref('measure');
      ref
      .on('child_added', function(snapshot) { 
        var user = snapshot.val();
        var key1 = snapshot.key;
        var count =0;

        





        if(user === undefined) {
          var lsq = '-----';
        }else{
          if(user.jamlong === undefined) {
            var lsq = '-----';
          }else{
            var lsq = user.jamlong.lsq;

          }
        }

        count = Object.keys(user).length;


        var ref3 = firebase.database().ref("ref/"+key1);
        ref3.once("value")
        .then(function(snapshot){

         var google_folder = snapshot.child("google_drive_image_folder").val();
         var google_image = snapshot.child("google_drive_image_no").val();


         // addData(key1, count,lsq, lines, google_folder, google_image);

         if (fruits.includes(key1)){

      }else{
         console.log(count2);
         t1.row.add( [
          key1,
          lsq.toFixed(6),
          lines[count2],
          google_folder,
          google_image

          ] ).draw( false );
           }
         count2 = count2+1;
         
         

       });
        

      });


      

      






    };







  </script>




  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.11.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
  <script>
   var firebaseConfig = {
    apiKey: "AIzaSyBA8_iJYJUTB81W6y41kBbAFUhETKXdn38",
    authDomain: "labeljpn.firebaseapp.com",
    databaseURL: "https://labeljpn.firebaseio.com",
    projectId: "labeljpn",
    storageBucket: "labeljpn.appspot.com",
    messagingSenderId: "478979409533",
    appId: "1:478979409533:web:a286086924054873c6d314",
    measurementId: "G-74RV1SGSWC"
  };
  firebase.initializeApp(firebaseConfig);
</script>

</body>

</html>
